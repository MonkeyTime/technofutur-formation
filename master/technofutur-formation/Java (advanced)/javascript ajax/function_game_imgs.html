<!doctype html>
<html lang="en">
	
    <head>
        
        <meta charset="UTF-8">
        
        <title>javascript function</title>

        <script type="text/javascript">

        function shuffle(arr) {
          
          var currentIndex = arr.length, temporaryValue, randomIndex;

          // While there remain elements to shuffle...
          while (0 !== currentIndex) {

            // Pick a remaining element...
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex -= 1;

            // And swap it with the current element.
            temporaryValue = arr[currentIndex];
            arr[currentIndex] = arr[randomIndex];
            arr[randomIndex] = temporaryValue;
          }

          return arr;
        }


        function tickTime(i) {

            if(!i) i = 0;

            document.getElementById('time').innerHTML = 'temps: ' + (++i) + ' seconde' + (i > 1 ? 's' : '');
            
            setTimeout(function() {
                tickTime(i);
            }, 1000);
        }

        function init() {

            var imgs    = new Array();
            var content = document.getElementById('content');

            for (var i = 0; i < 6; i++) {
                imgs[i] = Math.floor((Math.random() * 10) + 1);
            }

            for (var i = 6; i < 12; i++) {
                    imgs[i] = imgs[i - 6];
            }

            var imgs = shuffle(imgs);

            for (var i = 0; i < imgs.length; i++) {

                if(i % 4 == 0) {
                    var 
                    container = document.createElement('div');
                    container.className = 'row';
                }

                var elem = document.createElement('div');
                    elem.className += 'hidden';
                    elem.className += ' ' + imgs[i];
                
                var img  = document.createElement('img');
                    img.src = './img/' + imgs[i] + '.jpg';
                    img.className = 'img' + imgs[i];

                container.appendChild(elem);
                elem.appendChild(img);

                if(i % 4 == 0) {
                    content.appendChild(container);
                }
            }

            tickTime();
        }

        </script>

        <style type="text/css" media="all">

        h3 {
            text-align: center
        }

        .row {
            display: block
        }

        .row > div {
            display: inline-block;
            *display: inline
        }

        img {
            width: 100%
        }

        .visible {
            width: 20%;
            min-height: 28%;
            padding: 2.5%;
            background: none;
        }

        .visible img {
            visibility: visible
        }

        .hidden {
            width: 20%;
            min-height: 28%;
            padding: 2.5%;
            background: url('./img/mask.jpg') no-repeat center center;
            background-size: 90% 90%;
        }

        .hidden img {
            visibility: hidden
        }
        
        </style>

    </head>
    
    <body onload="init();">

        <h3 id="score"></h3>
        <h3 id="try"></h3>
        <h3 id="time"></h3>

        <div id="content">

        </div>

    </body>
    
</html>